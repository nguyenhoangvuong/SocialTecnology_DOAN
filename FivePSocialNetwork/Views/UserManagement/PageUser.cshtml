@using FivePSocialNetwork.Models;
@model User
@{
    ViewBag.Title = "PageUser";
    Layout = "~/Views/Shared/_LayoutCenter.cshtml";
    FivePSocialNetWorkEntities db = new FivePSocialNetWorkEntities();
    int user_id = int.Parse(Request.Cookies["user_id"].Value.ToString());
    Friend friend1 = db.Friends.FirstOrDefault(n => n.userRequest_id == user_id && n.userResponse_id == Model.user_id && n.friend_status == false);
    Friend friend2 = db.Friends.FirstOrDefault(n => n.userRequest_id == Model.user_id && n.userResponse_id == user_id && n.friend_status == false);
    Friend friend3 = db.Friends.FirstOrDefault(n => ((n.userRequest_id == Model.user_id && n.userResponse_id == user_id) || (n.userRequest_id == user_id && n.userResponse_id == Model.user_id)) && n.friend_status == true);
}
<style>
    .scroll_text {
        height: 450px;
        overflow: auto;
        padding: 0px 15px;
    }

        .scroll_text::-webkit-scrollbar {
            width: 8px;
        }

        .scroll_text::-webkit-scrollbar-track {
            background-color: #f8f9fe
        }

        .scroll_text::-webkit-scrollbar-thumb {
            border: 1px solid rgba(92, 92, 92, 0.5);
            border-radius: 10px;
        }

            .scroll_text::-webkit-scrollbar-thumb:hover {
                background-color: #000;
            }
    .custom-toggle-slider:before {
        bottom: 2.7px;
        left: 2px;
        width: 17px;
        height: 15px;
    }
</style>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v10.0&appId=1075138046266613&autoLogAppEvents=1" nonce="minGHexe"></script>
<div class="main-content" id="panel" ng-app="myApp">
    <!-- Page content -->
    <div class="container-fluid mt-2" ng-controller="myCtrl">
        <div class="row">
            <div class="col-xl-4 order-xl-2 mt-3">
                <div class="card-profile">
                    <img src="~/Image/Users/@Model.user_coverImage" alt="Image placeholder" class="card-img-top">
                    <div class="row justify-content-center">
                        <div class="col-lg-3 order-lg-2">
                            <div class="card-profile-image">
                                <a href="#">
                                    <img src="~/Image/Users/@Model.user_avatar" class="rounded-circle" />
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4">
                        <div class="d-flex justify-content-between">
                            @if (Request.Cookies["user_id"] == null)
                            {
                                <a href="#" class="btn btn-sm btn-info  mr-4 "><i class="fas fa-user-plus"></i> Kết bạn.</a>
                                <a href="#" class="btn btn-sm btn-default float-right"><i class="fab fa-facebook-messenger"></i> Nhắn tin.</a>
                            }
                            else if (int.Parse(Request.Cookies["user_id"].Value.ToString()) != Model.user_id)
                            {
                                <form action="@Url.Action("AddFriend","UserManagement")" method="post">
                                    <input type="hidden" name="userResponse_id" value="@Model.user_id" />
                                    @{
                                        if (friend1 != null)
                                        {
                                            <button type="submit" class="btn btn-sm btn-info ml-4 float-left"><i class="fas fa-user-minus"></i> Hủy lời mời</button>
                                        }
                                        else if (friend2 != null)
                                        {
                                            <button type="submit" class="btn btn-sm btn-info ml-4 float-left"><i class="fas fa-user-plus"></i> Xác nhận</button>
                                        }
                                        else if (friend3 != null)
                                        {
                                            <button type="submit" class="btn btn-sm btn-info ml-4 float-left" data-toggle="tooltip" data-placement="top" title="Hủy kết bạn"><i class="fas fa-user-friends"></i> Bạn bè</button>
                                        }
                                        else
                                        {
                                            <button type="submit" class="btn btn-sm btn-info ml-4 float-left"><i class="fas fa-user-plus"></i> kết bạn</button>
                                        }
                                    }
                                </form>
                                <a href="@Url.Action("Index","Message", new { id = Model.user_id})" class="btn btn-sm btn-default float-right"><i class="fab fa-facebook-messenger"></i> Nhắn tin</a>
                            }
                        </div>
                    </div>
                    <div class="card-body pt-0 mt-4">
                        <div class="row">
                            <div class="col">
                                <div class="card-profile-stats d-flex justify-content-center">
                                    <div>
                                        @{
                                            List<Friend> friends = db.Friends.Where(n => (n.userRequest_id == Model.user_id || n.userResponse_id == Model.user_id) && n.friend_status == true).ToList();
                                        }
                                        <span class="heading">@friends.Count()</span>
                                        <span class="description">Bạn bè</span>
                                    </div>
                                    <div>
                                        <span class="heading">@Model.user_popular</span>
                                        <span class="description">Nổi tiếng</span>
                                    </div>
                                    <div>
                                        <span class="heading">@(Model.user_vipMedal + Model.user_goldMedal + Model.user_silverMedal + Model.user_brozeMedal)</span>
                                        <span class="description">Huy hiệu</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            @if (Request.Cookies["user_id"] != null && friend3 != null)
                            {
                                if (int.Parse(Request.Cookies["user_id"].Value.ToString()) == friend3.userResponse_id && friend3.friend_follow == true)
                                {
                                    <div>
                                        <label class="custom-toggle" data-toggle="tooltip" data-placement="top" title="Theo dõi..">
                                            <input type="checkbox" ng-click="friendFollow(@(friend3.friend_id))" checked>
                                            <span class="custom-toggle-slider rounded-circle"></span>
                                        </label>
                                    </div>
                                }
                                else if (int.Parse(Request.Cookies["user_id"].Value.ToString()) == friend3.userResponse_id && (friend3.friend_follow == false || friend3.friend_follow == null))
                                {
                                    <div>
                                        <label class="custom-toggle" data-toggle="tooltip" data-placement="top" title="Theo dõi..">
                                            <input type="checkbox" ng-click="friendFollow(@(friend3.friend_id))">
                                            <span class="custom-toggle-slider rounded-circle"></span>
                                        </label>
                                    </div>
                                }
                                else if (int.Parse(Request.Cookies["user_id"].Value.ToString()) == friend3.userRequest_id && friend3.friend_follow2_Response == true)
                                {
                                    <div>
                                        <label class="custom-toggle" data-toggle="tooltip" data-placement="top" title="Theo dõi..">
                                            <input type="checkbox" ng-click="friend_follow2_Response(@(friend3.friend_id))" checked>
                                            <span class="custom-toggle-slider rounded-circle"></span>
                                        </label>
                                    </div>
                                }
                                else if (int.Parse(Request.Cookies["user_id"].Value.ToString()) == friend3.userRequest_id && (friend3.friend_follow2_Response == false || friend3.friend_follow2_Response == null))
                                {
                                    <div>
                                        <label class="custom-toggle" data-toggle="tooltip" data-placement="top" title="Theo dõi..">
                                            <input type="checkbox" ng-click="friend_follow2_Response(@(friend3.friend_id))">
                                            <span class="custom-toggle-slider rounded-circle"></span>
                                        </label>
                                    </div>
                                }

                            }
                            <div class="h9 text-muted">@Model.user_firstName @Model.user_lastName , @Model.user_popular<i class="fas fa-fire" style="color:red"></i></div>
                            <div class="h7 text-muted">@Model.user_vipMedal <i class="fab fa-galactic-senate" style="color:orangered;font-size:18px"></i>  &nbsp; @Model.user_goldMedal <i class="fas fa-award" style="color:yellow;font-size:11px"></i>  &nbsp; @Model.user_silverMedal <i class="fas fa-award" style="color:silver;font-size:11px"></i>&nbsp; @Model.user_brozeMedal <i class="fas fa-award" style="color:#e88d15;font-size:11px"></i> </div>
                            <div class="h5 font-weight-300">

                                <i class="ni location_pin mr-2"></i>
                                <span style="padding:1%">@Model.user_phone</span>
                            </div>
                            <div class="h5 mt-2">
                                <i class="ni business_briefcase-24 mr-2"></i><i class="fas fa-envelope-open-text"></i>&nbsp; Email : @Model.user_email
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="far fa-calendar-alt"></i>&nbsp; Ngày sinh: @Model.user_birthday
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fas fa-mobile-alt"></i>&nbsp; Số điện thoại : @Model.user_phone
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fas fa-map-marked-alt"></i>&nbsp; Địa chỉ: @Model.user_addressRemaining , @if (Model.commune_id != null)
                                {@Model.Commune.commune_name} , @if (Model.district_id != null)
                                {@Model.District.district_name} , @if (Model.provincial_id != null)
                                {@Model.Provincial.provincial_name}

                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fas fa-venus-mars"></i>&nbsp; gới tính : @if (Model.sex_id != null)
                                {@Model.Sex_User.sex_name}
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fab fa-facebook-f"></i>&nbsp; Facebook: @Model.user_linkFacebook
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fab fa-github"></i>&nbsp; Github: @Model.user_linkGithub
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="fas fa-briefcase"></i>&nbsp; Sở thích công việc: @Model.user_hobbyWork
                            </div>
                            <div class="text-left">
                                <i class="ni education_hat mr-2"></i><i class="far fa-grin-hearts"></i>&nbsp; Sở thích cá nhân: @Model.user_hobby
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="">
                        <div class="card-body">
                            <h4 class="card-title">Gợi ý kết bạn</h4>
                            <div class="scroll_text">

                                <div class="row" ng-repeat="x in listSuggestiotMakeFriends">
                                    <div class="col-2">
                                        <img class="rounded-circle" style="width: 38px; height: 38px;" src="~/Image/Users/{{x.user_avatar}}" alt="">
                                    </div>
                                    <div class="col-7">
                                        <a ng-href="/UserManagement/PageUser?id={{x.user_id}}" class="h5 m-0">
                                            {{x.user_firstName +" "+ x.user_lastName}} <i ng-show="x.user_statusOnline == false" class="fas fa-circle" style="font-size:6px"></i><i ng-show="x.user_statusOnline == true" class="fas fa-circle" style="font-size:6px;color:greenyellow"></i>
                                        </a>
                                        <div class="h7 text-muted">{{x.user_vipMedal}}<i class="fab fa-galactic-senate" style="color:orangered;font-size:18px"></i>  {{x.user_goldMedal}}<i class="fas fa-award" style="color:yellow;font-size:11px"></i>  {{x.user_silverMedal}}<i class="fas fa-award" style="color:silver;font-size:11px"></i>   {{x.user_brozeMedal}}<i class="fas fa-award" style="color:#e88d15;font-size:11px"></i> </div>
                                    </div>
                                    <div class="col-3">
                                        <form action="@Url.Action("AddFriend","UserManagement")" method="post">
                                            <input type="hidden" name="userResponse_id" value="{{x.user_id}}" />
                                            <button type="submit" class="btn btn-link"><i class="fas fa-user-plus"></i></button>
                                        </form>
                                    </div>
                                </div>

                            </div>
                            <span style="font-size:28px">...</span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <div class="fb-comments" data-href="https://localhost:44349/UserManagement/PageUser?id=@Model.user_id" data-width="50" data-numposts="9"></div>
                    </div>
                </div>
                <!--Link trung tâm-->
            </div>
            <div class="col-xl-8 order-xl-1">
                <div class="row">
                    <div class="col-xl-7 col-7">
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Câu hỏi. </a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Câu trả lời.</a>
                            </li>
                        </ul>
                    </div>
                    @if (Request.Cookies["user_id"] != null && int.Parse(Request.Cookies["user_id"].Value.ToString()) == Model.user_id)
                    {
                        <div class="col-xl-5 col-5 text-right">
                            <i class="fas fa-user-tie"></i> Vai trò : <i>Member</i>
                        </div>
                    }
                    @if (Request.Cookies["user_id"] != null && int.Parse(Request.Cookies["user_id"].Value.ToString()) != Model.user_id)
                    {
                        <div class="col-xl-5 col-5">
                            <button type="button" class="btn btn-sm btn-danger float-right" data-toggle="modal" data-target="#denounce"><i class="fas fa-exclamation-triangle"></i> Tố cáo</button>
                        </div>
                    }
                    <!--tab câu hỏi-->
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active p-3" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <div class="form-group border-0">
                                <div class="input-group input-group-alternative input-group-merge ">
                                    <div class="input-group-prepend  border-bottom">
                                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    </div>
                                    <input class="form-control border-bottom" ng-model="txtSearch1" placeholder="Tìm ............................." type="text">
                                </div>
                            </div>
                            <div ng-repeat="x in listQuestions| filter: txtSearch1" class="bg-white mt-3" style="box-shadow: 0 0 5px 1px lightgrey;">
                                <div style="padding: 10px">
                                    <div class="row">
                                        <div class="col-lg-2 col-2">
                                            <center>
                                                <div class="font-weight-bold" style="float: right; font-size: 25px">
                                                    <div>
                                                        <i class="fa fa-angle-up"></i>
                                                    </div>
                                                    <div class="text-warning">
                                                        {{x.question_totalRate}}
                                                    </div>
                                                    <div>
                                                        <i class="fa fa-angle-down"></i>
                                                    </div>
                                                    <div>
                                                        <small style="font-size:12px">{{x.question_view}} lượt xem</small>
                                                    </div>
                                                    <div>
                                                        <small style="font-size:12px">{{x.question_Answer}} đáp án</small>
                                                    </div>
                                                    <div ng-show="x.question_userStatus == true" style="font-size:12px" data-toggle="tooltip" data-placement="right" title="Mọi người xem">
                                                        <i class="fas fa-globe-europe" style="font-size:120%;" ></i>
                                                    </div>
                                                    <div ng-show="x.question_userStatus == false" style="font-size:12px" data-toggle="tooltip" data-placement="right" title="Chỉ mình bạn xem">
                                                        <i class="fas fa-user" style="font-size:120%;"></i>
                                                    </div>
                                                </div>
                                            </center>
                                        </div>
                                        <div class="col-lg-10 col-10">
                                            <div style="padding: 10px">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <h2 class="w-100 text-info">
                                                            <span class="bg-info text-white" style="border-radius:5px "><small class="p-1">+{{x.question_popular}}</small></span>
                                                            <a ng-href="/FunctionAtDetailQuestion/DetailQuestion?id={{x.question_id}}">
                                                                {{x.question_title}}
                                                            </a>
                                                        </h2>
                                                        <p class="w-100 question" ng-show="x.question_content.length > 200">
                                                            {{x.question_content.substring(0, 200)}}
                                                        </p>
                                                        <p class="w-100 question" ng-show="x.question_content.length < 200">
                                                            {{x.question_content}}
                                                        </p>
                                                    </div>
                                                    <div class="col-lg-7 mt-3">
                                                        Công nghệ :
                                                        <a ng-repeat="y in listTechnologyQuestion" ng-href="/Center/ShowFollowTechnology?id={{y.technology_id}}" ng-show="y.question_id == x.question_id"> {{y.technology_name}} |</a>

                                                    </div>
                                                    <div class="col-lg-5">
                                                        <a ng-href="/UserManagement/PageUser?id=x.user_id">
                                                            <img src="~/Image/Users/{{x.user_avatar}}" style="width: 38px; height: 38px; border-radius: 50px; border: 1px solid green" />

                                                            <b style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">{{x.user_firstName + x.user_lastName}}</b>
                                                            <span>{{x.user_popular}} <i class="fas fa-fire" style="color:red"></i></span>
                                                        </a>
                                                        <br />
                                                        <span class="h7 text-muted mt--2 border-bottom">{{x.user_vipMedal}} <i class="fab fa-galactic-senate" style="color:orangered;font-size:18px"></i> &nbsp; {{x.user_goldMedal}}  <i class="fas fa-award" style="color:yellow;font-size:11px"></i> &nbsp;  {{x.user_silverMedal}} <i class="fas fa-award" style="color:silver;font-size:11px"></i> &nbsp;  {{x.user_brozeMedal}} <i class="fas fa-award" style="color:#e88d15;font-size:11px"></i> </span>
                                                        <br />
                                                        <span><i class="fa fa-calendar">&nbsp;</i>Đăng ngày: {{x.question_dateEdit}} </span>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade p-3" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <div class="form-group border-0">
                                <div class="input-group input-group-alternative input-group-merge ">
                                    <div class="input-group-prepend  border-bottom">
                                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    </div>
                                    <input class="form-control border-bottom" ng-model="txtSearch2" placeholder="Tìm ............................." type="text">
                                </div>
                            </div>
                            <div ng-repeat="x in listQuestionsUserAnswer| filter: txtSearch2" class="bg-white mt-3" style="box-shadow: 0 0 5px 1px lightgrey;">
                                <div style="padding: 10px">
                                    <div class="row">
                                        <div class="col-lg-2 col-2">
                                            <center>
                                                <div class="font-weight-bold" style="float: right; font-size: 25px">
                                                    <div>
                                                        <i class="fa fa-angle-up"></i>
                                                    </div>
                                                    <div class="text-warning">
                                                        {{x.question_totalRate}}
                                                    </div>
                                                    <div>
                                                        <i class="fa fa-angle-down"></i>
                                                    </div>
                                                    <div>
                                                        <small style="font-size:12px">{{x.question_view}} lượt xem</small>
                                                    </div>
                                                    <div>
                                                        <small style="font-size:12px">{{x.question_Answer}} đáp án</small>
                                                    </div>
                                                </div>
                                            </center>
                                        </div>
                                        <div class="col-lg-10 col-10">
                                            <div style="padding: 10px">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <h2 class="w-100 text-info">
                                                            <span class="bg-info text-white" style="border-radius:5px "><small class="p-1">+{{x.question_popular}}</small></span>
                                                            <a ng-href="/FunctionAtDetailQuestion/DetailQuestion?id={{x.question_id}}">
                                                                {{x.question_title}}
                                                            </a>
                                                        </h2>
                                                        <p class="w-100" ng-show="x.question_content.length > 200">
                                                            {{x.question_content.substring(0, 200)}}
                                                        </p>
                                                        <p class="w-100" ng-show="x.question_content.length < 200">
                                                            {{x.question_content}}
                                                        </p>
                                                    </div>
                                                    <div class="col-lg-7 mt-3">
                                                        Công nghệ :
                                                        <a ng-repeat="y in listTechnologyQuestion" ng-href="/Center/ShowFollowTechnology?id={{y.technology_id}}" ng-show="y.question_id == x.question_id"> {{y.technology_name}} |</a>

                                                    </div>
                                                    <div class="col-lg-5">
                                                        <a ng-href="/UserManagement/PageUser?id={{x.user_id}}">
                                                            <img src="~/Image/Users/{{x.user_avatar}}" style="width: 38px; height: 38px; border-radius: 50px; border: 1px solid green" />

                                                            <b style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">{{x.user_firstName + x.user_lastName}}</b>
                                                            <span>{{x.user_popular}} <i class="fas fa-fire" style="color:red"></i></span>
                                                        </a>
                                                        <br />
                                                        <span class="h7 text-muted mt--2 border-bottom">{{x.user_vipMedal}} <i class="fab fa-galactic-senate" style="color:orangered;font-size:18px"></i> &nbsp; {{x.user_goldMedal}}  <i class="fas fa-award" style="color:yellow;font-size:11px"></i> &nbsp;  {{x.user_silverMedal}} <i class="fas fa-award" style="color:silver;font-size:11px"></i> &nbsp;  {{x.user_brozeMedal}} <i class="fas fa-award" style="color:#e88d15;font-size:11px"></i> </span>
                                                        <br />
                                                        <span><i class="fa fa-calendar">&nbsp;</i>Đăng ngày: {{x.question_dateEdit}} </span>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Modal tố cáo-->
                    <div class="modal fade" id="denounce" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="staticBackdropLabel">@Model.user_firstName @Model.user_lastName đã vi phạm lỗi gì?</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <form action="@Url.Action("Denounce","UserManagement")" method="post">
                                    <div class="modal-body">
                                        <span class="label">Chọn lý do</span>
                                        <input type="hidden" name="discredit_id" value="@Model.user_id" />
                                        <select name="reasonOption" class="form-control">
                                            <option value="0">Lý do của bạn</option>
                                            <option value="1">Tài khoản giả mạo!</option>
                                            <option value="2">Tài khoản của bạn đã bị hack!</option>
                                            <option value="3">Đăng câu hỏi không liên quan hoặc bậy bạ!</option>
                                            <option value="4">Xúc phạm danh tự của bạn!</option>
                                            <option value="5">Cố ý đăng câu trả lời không đúng với câu hỏi!</option>
                                            <option value="6">Lý do khác</option>
                                        </select><br />
                                        <span class="label">Lý do khác</span>
                                        <textarea name="reasonWrite" class="form-control" style="height:90px" placeholder="Nhập lý do bạn muốn tố cáo! và điều bạn muốn nói với chúng tôi."></textarea>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                                        <button type="submit" class="btn btn-danger"><i class="fas fa-exclamation-triangle"></i> Tố cáo user @Model.user_firstName @Model.user_lastName</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function ($scope, $http) {
        $http.get("/UserManagement/ListQuestions?user_id=@Model.user_id")
            .then(function (response) {
                // First function handles success
                $scope.listQuestions = response.data;
            }, function (response) {
                // Second function handles error
                $scope.listQuestions = "Something went wrong";
            });
        $http.get("/UserManagement/ListTechnologyQuestion")
            .then(function (response) {
                // First function handles success
                $scope.listTechnologyQuestion = response.data;
            }, function (response) {
                // Second function handles error
                    $scope.listTechnologyQuestion = "Something went wrong";
            });
        $http.get("/UserManagement/ListQuestions_UserAnswer?user_id=" + @Model.user_id)
            .then(function (response) {
                // First function handles success
                $scope.listQuestionsUserAnswer = response.data;
            }, function (response) {
                // Second function handles error
                    $scope.listQuestionsUserAnswer = "Something went wrong";
            });
        //show User gợi ý kết bạn
        $http.get("/ShareView/SuggestiotMakeFriends")
            .then(function (response) {
                // First function handles success
                $scope.listSuggestiotMakeFriends = response.data;
            }, function (response) {
                // Second function handles error
                $scope.listSuggestiotMakeFriends = "Something went wrong";
            });
        // chế độ theo dõi user
        $scope.friendFollow = function (id) {
            $http.get("/UserManagement/FriendFollow?id="+ id);
        }
        // chế độ theo dõi user
        $scope.friend_follow2_Response = function (id) {
            $http.get("/UserManagement/friend_follow2_Response?id=" + id);
        }
     
    });
    let question = 0;
    const myTimeout = setInterval(function () {
        console.log(document.getElementsByClassName("question").length);
        let newquestion = document.getElementsByClassName("question").length;
        if (newquestion != question) {
            question = newquestion;
            $.each(document.getElementsByClassName("question"), function (k, v) { v.innerHTML = v.innerText })
        }


    }, 500)
</script>